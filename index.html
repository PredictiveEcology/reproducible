<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enhance Reproducibility of R Code • reproducible</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Enhance Reproducibility of R Code">
<meta property="og:description" content="A collection of high-level, machine- and OS-independent tools
    for making reproducible and reusable content in R.
    The two workhorse functions are Cache() and prepInputs(). Cache()
    allows for nested caching, is robust to environments and objects with
    environments (like functions), and has deals with some classes of 
    file-backed R objects e.g., from terra and raster packages. 
    Both functions have been developed to 
    be foundational components of data retrieval
    and processing in continuous workflow situations. In both functions,
    efforts are made to make the first and subsequent calls of functions have 
    the same result, but faster at subsequent times by way of checksums
    and digesting. Several features are still under development, including
    cloud storage of cached objects, allowing for sharing between users. Several
    advanced options are available, see ?reproducibleOptions().">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-5');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">reproducible</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Intro-to-Cache.html">Introduction to Cache</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PredictiveEcology/reproducible/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="reproducible">reproducible<a class="anchor" aria-label="anchor" href="#reproducible"></a>
</h1></div>
<!-- badges: start -->

<p>A set of tools for R that enhance reproducibility for data analytics and forecasting. This package aims at making high-level, robust, machine and OS independent tools for making deeply reproducible and reusable content in R.</p>
<div class="section level2">
<h2 id="news">News<a class="anchor" aria-label="anchor" href="#news"></a>
</h2>
<p>See updates from latest <a href="https://cran.r-project.org/package=reproducible" class="external-link">CRAN</a> and <a href="https://github.com/PredictiveEcology/reproducible/blob/development/NEWS.md" class="external-link">development</a> versions. Note that versions 1.0.0 and later are not compatible with previous versions. The current version can be much faster and creates smaller repository files (each with specific options set using <code>Suggests</code> packages) and allows for different (e.g., <code>RPostgres</code> backends for the database<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> – not the saved files, however; these are still saved locally).</p>
</div>
</div>
<div class="section level1">
<h1 id="reproducible-workflows">Reproducible workflows<a class="anchor" aria-label="anchor" href="#reproducible-workflows"></a>
</h1>
<p>A reproducible workflow is a series of code steps (e.g., in a script) that, when run, produce the same output from the same inputs every time. The big challenge with such a workflow is that many steps are so time consuming that a scientist tends to <em>not</em> re-run each step every time. After many months of work, it is often unclear if the code will actually function from the start. Is the original dataset still there? Have the packages that were used been updated? Are some of the steps missing because there was some “point and clicking”?</p>
<p>The best way to maintain reproducibility is to have all the code re-run <em>all the time</em>. That way, errors are detected early and can be fixed. The challenge is how to make all the steps fast enough that it becomes convenient to re-run everything from scratch each time.</p>
<div class="section level2">
<h2 id="cache">
<code>Cache</code><a class="anchor" aria-label="anchor" href="#cache"></a>
</h2>
<p>Caching is the principle tool to achieve this reproducible work-flow. There are many existing tools that support some notion of <em>caching</em>. The main tool here, <code>Cache</code>, can be nested hierarchically, becoming very powerful for the data science developer who is regularly working at many levels of an analysis.</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># give a random number</span></span>
<span><span class="fu"><a href="reference/Cache.html">Cache</a></span><span class="op">(</span><span class="va">rnorm</span>, <span class="fl">1</span><span class="op">)</span> <span class="co"># generates a random number</span></span>
<span><span class="fu"><a href="reference/Cache.html">Cache</a></span><span class="op">(</span><span class="va">rnorm</span>, <span class="fl">1</span><span class="op">)</span> <span class="co"># recovers the previous random number because call is identical</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="prepinputs">
<code>prepInputs</code><a class="anchor" aria-label="anchor" href="#prepinputs"></a>
</h2>
<p>A common data problem is starting from a raw (spatial) dataset and getting it into shape for an analysis. Often, copies of a dataset are haphazardly placed in <em>ad hoc</em> local file systems. This makes it particularly difficult to share the workflow. The solution to this is use a canonical location (e.g., cloud storage, permalink to original data provider, etc.) and use tools that are smart enough to download only once.</p>
<p>Get a geospatial dataset. It will be checksummed (locally), meaning if the file is already in place locally, it will not download it again.</p>
<pre><code><span><span class="co"># Using dlFun -- a custom download function -- passed to preProcess</span></span>
<span><span class="va">test1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/prepInputs.html">prepInputs</a></span><span class="op">(</span>targetFile <span class="op">=</span> <span class="st">"GADM_2.8_LUX_adm0.rds"</span>, <span class="co"># must specify currently</span></span>
<span>                    dlFun <span class="op">=</span> <span class="st">"raster::getData"</span>, name <span class="op">=</span> <span class="st">"GADM"</span>, country <span class="op">=</span> <span class="st">"LUX"</span>, level <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                    path <span class="op">=</span> <span class="va">dPath</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="cache-with-prepinputs">
<code>Cache</code> with <code>prepInputs</code>
<a class="anchor" aria-label="anchor" href="#cache-with-prepinputs"></a>
</h2>
<p>Putting these tools together allows for very rich data flows. For example, with <code>prepInputs</code> and using the <code>fun</code> argument or passing a <code>studyArea</code>, a raw dataset can be downloaded, loaded into R, and post processed – all potentially very time consuming steps resulting in a clean, often much smaller dataset. Wrapping all these with a <code>Cache</code> can make it very quick.</p>
<pre><code><span><span class="va">test1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/Cache.html">Cache</a></span><span class="op">(</span><span class="va">prepInputs</span>, targetFile <span class="op">=</span> <span class="st">"GADM_2.8_LUX_adm0.rds"</span>, <span class="co"># must specify currently</span></span>
<span>                    dlFun <span class="op">=</span> <span class="st">"raster::getData"</span>, name <span class="op">=</span> <span class="st">"GADM"</span>, country <span class="op">=</span> <span class="st">"LUX"</span>, level <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                    path <span class="op">=</span> <span class="va">dPath</span><span class="op">)</span></span></code></pre>
<p>See vignettes and help files for many more real-world examples.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="current-release-on-cran">Current release (on CRAN)<a class="anchor" aria-label="anchor" href="#current-release-on-cran"></a>
</h3>
<p><a href="https://github.com/PredictiveEcology/reproducible/actions" class="external-link"><img src="https://github.com/PredictiveEcology/reproducible/workflows/R-CMD-check/badge.svg?branch=master" alt="R build status"></a> <a href="https://app.codecov.io/gh/PredictiveEcology/reproducible?branch=master" class="external-link"><img src="https://codecov.io/gh/PredictiveEcology/reproducible/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></p>
<p><strong>Install from CRAN:</strong></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"reproducible"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Install from GitHub:</strong></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level3">
<h3 id="development-version">Development version<a class="anchor" aria-label="anchor" href="#development-version"></a>
</h3>
<p><a href="https://github.com/PredictiveEcology/reproducible/actions" class="external-link"><img src="https://github.com/PredictiveEcology/reproducible/workflows/R-CMD-check/badge.svg?branch=development" alt="R build status"></a> <a href="https://app.codecov.io/gh/PredictiveEcology/reproducible?branch=development" class="external-link"><img src="https://codecov.io/gh/PredictiveEcology/reproducible/branch/development/graph/badge.svg" alt="Codecov test coverage"></a></p>
<p><strong>Install from GitHub:</strong></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#install.packages("devtools")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">"devtools"</a></span><span class="op">)</span></span>
<span><span class="fu">install_github</span><span class="op">(</span><span class="st">"PredictiveEcology/reproducible"</span>, ref <span class="op">=</span> <span class="st">"development"</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="contributions">Contributions<a class="anchor" aria-label="anchor" href="#contributions"></a>
</h2>
<p>Please see <code>CONTRIBUTING.md</code> for information on how to contribute to this project.</p>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p><a href="https://github.com/PredictiveEcology/SpaDES/wiki/Using-alternate-database-backends-for-Cache" class="external-link uri">https://github.com/PredictiveEcology/SpaDES/wiki/Using-alternate-database-backends-for-Cache</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=reproducible" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/PredictiveEcology/reproducible/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/PredictiveEcology/reproducible/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing reproducible</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Eliot J B McIntire <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6914-8316" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Alex M Chubaty <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-7146-8135" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=reproducible" class="external-link"><img src="https://www.r-pkg.org/badges/version/reproducible" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://cran.r-project.org/package=reproducible" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/reproducible" alt="CRAN Downloads"></a></li>
<li><a href="https://github.com/PredictiveEcology/reproducible/actions" class="external-link"><img src="https://github.com/PredictiveEcology/reproducible/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://app.codecov.io/gh/PredictiveEcology/reproducible?branch=master" class="external-link"><img src="https://codecov.io/gh/PredictiveEcology/reproducible/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
