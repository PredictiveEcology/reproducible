<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Do some minor error fixing — fixErrors • reproducible</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Do some minor error fixing — fixErrors"><meta property="og:description" content="These must be very common for this function to be useful. Currently, the only
meaningful method is on SpatialPolygons, and it runs sf::st_is_valid.
If FALSE, then it runs  st_make_valid or terra::buffer,
depending on whether x is sf or SpatialPolygons*, respectively.
This uses terra::buffer(..., width = 0) internally, which fixes some
failures to sf::st_is_valid"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-58633549-5"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-58633549-5');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">reproducible</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Cache-using-postgresql.html">Using alternate database backends for Cache</a>
    </li>
    <li>
      <a href="../articles/Intro-to-Cache.html">Introduction to Cache</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PredictiveEcology/reproducible/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Do some minor error fixing</h1>
    <small class="dont-index">Source: <a href="https://github.com/PredictiveEcology/reproducible/blob/HEAD/R/postProcess.R" class="external-link"><code>R/postProcess.R</code></a></small>
    <div class="hidden name"><code>fixErrors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These must be very common for this function to be useful. Currently, the only
meaningful method is on <code>SpatialPolygons</code>, and it runs <code><a href="https://r-spatial.github.io/sf/reference/valid.html" class="external-link">sf::st_is_valid</a></code>.
If <code>FALSE</code>, then it runs  <code>st_make_valid</code> or <code><a href="https://rdrr.io/pkg/terra/man/buffer.html" class="external-link">terra::buffer</a></code>,
depending on whether x is <code>sf</code> or <code>SpatialPolygons*</code>, respectively.</p>
<p>This uses <code>terra::buffer(..., width = 0)</code> internally, which fixes some
failures to <code><a href="https://r-spatial.github.io/sf/reference/valid.html" class="external-link">sf::st_is_valid</a></code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fixErrors</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">objectName</span>,</span>
<span>  attemptErrorFixes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  useCache <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.useCache"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.verbose"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  testValidity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.testValidity"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for default</span></span>
<span><span class="fu">fixErrors</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">objectName</span>,</span>
<span>  attemptErrorFixes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  useCache <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.useCache"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.verbose"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  testValidity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.testValidity"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for Raster</span></span>
<span><span class="fu">fixErrors</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">objectName</span>,</span>
<span>  attemptErrorFixes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  useCache <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.useCache"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.verbose"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  testValidity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.testValidity"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for SpatialPolygons</span></span>
<span><span class="fu">fixErrors</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  objectName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  attemptErrorFixes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  useCache <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.useCache"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.verbose"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  testValidity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.testValidity"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for sf</span></span>
<span><span class="fu">fixErrors</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  objectName <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  attemptErrorFixes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  useCache <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.useCache"</span>, <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.verbose"</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  testValidity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"reproducible.testValidity"</span>, <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A <code>SpatialPolygons*</code> or <code>sf</code> object.</p></dd>


<dt>objectName</dt>
<dd><p>Optional. This is only for messaging; if provided, then messages relayed
to user will mention this.</p></dd>


<dt>attemptErrorFixes</dt>
<dd><p>Will attempt to fix known errors. Currently only some failures
for <code>SpatialPolygons*</code> are attempted.
Notably with <code>terra::buffer(..., width = 0)</code>.
Default <code>TRUE</code>, though this may not be the right action for all cases.</p></dd>


<dt>useCache</dt>
<dd><p>Logical, default <code>getOption("reproducible.useCache", FALSE)</code>, whether
Cache is used on the internal <code><a href="https://rdrr.io/pkg/terra/man/buffer.html" class="external-link">terra::buffer</a></code> command.</p></dd>


<dt>testValidity</dt>
<dd><p>Logical. If <code>TRUE</code>, the a test for validity will happen
before actually running buffering (which is the solution in most
cases). However, sometimes it takes longer to test for validity
than just buffer without testing (there are no consequences of
buffering if everything is valid). If <code>FALSE</code>, then the
test will be skipped and the buffering will happen regardless.
If <code>NA</code>, then all testing and buffering will be skipped.</p></dd>


<dt>...</dt>
<dd><p>Passed to methods. None currently implemented.</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Add a study area to Crop and Mask to</span></span></span>
<span class="r-in"><span><span class="co"># Create a "study area"</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edzer/sp/" class="external-link">sp</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># make a SpatialPolygon</span></span></span>
<span class="r-in"><span><span class="va">coords1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">123.98</span>, <span class="op">-</span><span class="fl">117.1</span>, <span class="op">-</span><span class="fl">80.2</span>, <span class="op">-</span><span class="fl">100</span>, <span class="op">-</span><span class="fl">123.98</span>, <span class="fl">60.9</span>, <span class="fl">67.73</span>, <span class="fl">65.58</span>, <span class="fl">51.79</span>, <span class="fl">60.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                     .Dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5L</span>, <span class="fl">2L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Sr1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">Polygon</a></span><span class="op">(</span><span class="va">coords1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Srs1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">Polygons</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Sr1</span><span class="op">)</span>, <span class="st">"s1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">shpEcozone</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">SpatialPolygons</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Srs1</span><span class="op">)</span>, <span class="fl">1L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/crs.html" class="external-link">crs</a></span><span class="op">(</span><span class="va">shpEcozone</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># make a "study area" that is subset of larger dataset</span></span></span>
<span class="r-in"><span><span class="va">coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">118.98</span>, <span class="op">-</span><span class="fl">116.1</span>, <span class="op">-</span><span class="fl">99.2</span>, <span class="op">-</span><span class="fl">106</span>, <span class="op">-</span><span class="fl">118.98</span>, <span class="fl">59.9</span>, <span class="fl">65.73</span>, <span class="fl">63.58</span>, <span class="fl">54.79</span>, <span class="fl">59.9</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    .Dim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5L</span>, <span class="fl">2L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Sr1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">Polygon</a></span><span class="op">(</span><span class="va">coords</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Srs1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">Polygons</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Sr1</span><span class="op">)</span>, <span class="st">"s1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">StudyArea</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">SpatialPolygons</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">Srs1</span><span class="op">)</span>, <span class="fl">1L</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/crs.html" class="external-link">crs</a></span><span class="op">(</span><span class="va">StudyArea</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/terra/man/crs.html" class="external-link">crs</a></span><span class="op">(</span><span class="va">shpEcozone</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">projString</span> <span class="op">&lt;-</span> <span class="st">"+proj=utm +zone=15 +ellps=GRS80 +datum=NAD83 +units=m +no_defs"</span></span></span>
<span class="r-in"><span><span class="va">StudyArea</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/spTransform.html" class="external-link">spTransform</a></span><span class="op">(</span><span class="va">StudyArea</span>, CRSobj <span class="op">=</span> <span class="va">projString</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##########</span></span></span>
<span class="r-in"><span><span class="va">shpEcozonePostProcessed</span> <span class="op">&lt;-</span> <span class="fu"><a href="postProcess.html">postProcess</a></span><span class="op">(</span><span class="va">shpEcozone</span>, studyArea <span class="op">=</span> <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">useCache is FALSE; skipping Cache on function cropInputs)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping ...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">No cacheRepo supplied and getOption('reproducible.cachePath') is inside a temporary directory;</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  this will not persist across R sessions.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  ...(Object to retrieve (ea45e5989f6b0406.rds))</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">     loaded cached result from previous projectInputs call</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">maskInputs with sf class objects is still experimental</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    intersecting ...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">Checking for errors in SimpleFeature</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  Found no errors.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">Checking for errors in SimpleFeature</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  Found no errors.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #0000BB;">  Skipping writeOutputs; filename2 is NULL</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Try manually, individual pieces</span></span></span>
<span class="r-in"><span><span class="va">shpEcozoneReprojected</span> <span class="op">&lt;-</span> <span class="fu"><a href="projectInputs.html">projectInputs</a></span><span class="op">(</span><span class="va">shpEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    reprojecting ...</span></span>
<span class="r-in"><span><span class="va">shpEcozoneCropped</span> <span class="op">&lt;-</span> <span class="fu"><a href="cropInputs.html">cropInputs</a></span><span class="op">(</span><span class="va">shpEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping ...</span></span>
<span class="r-in"><span><span class="va">shpEcozoneClean</span> <span class="op">&lt;-</span> <span class="fu">fixErrors</span><span class="op">(</span><span class="va">shpEcozone</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">Checking for errors in SpatialPolygon</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  Found no errors.</span></span>
<span class="r-in"><span><span class="va">shpEcozoneMasked</span> <span class="op">&lt;-</span> <span class="fu"><a href="maskInputs.html">maskInputs</a></span><span class="op">(</span><span class="va">shpEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">maskInputs with sf class objects is still experimental</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    intersecting ...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">Checking for errors in SimpleFeature</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  Found no errors.</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">Checking for errors in SimpleFeature</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  Found no errors.</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With terra</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://rspatial.org/terra/" class="external-link">"terra"</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">opts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"reproducible.useTerra"</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">vectEcozone</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/vect.html" class="external-link">vect</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">shpEcozone</span><span class="op">)</span><span class="op">)</span> <span class="co"># direct conversion throws warning</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># If input is Spatial object --&gt; return will also be Spatial</span></span></span>
<span class="r-in"><span>  <span class="va">shpEcozonePostProcessed</span> <span class="op">&lt;-</span> <span class="fu"><a href="postProcess.html">postProcess</a></span><span class="op">(</span><span class="va">shpEcozone</span>, studyArea <span class="op">=</span> <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># Try manually, individual pieces -- Note functions are different</span></span></span>
<span class="r-in"><span>  <span class="va">shpEcozoneReprojected</span> <span class="op">&lt;-</span> <span class="fu"><a href="projectInputs.html">projectInputs</a></span><span class="op">(</span><span class="va">shpEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">shpEcozoneMasked</span> <span class="op">&lt;-</span> <span class="fu"><a href="maskInputs.html">maskInputs</a></span><span class="op">(</span><span class="va">shpEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">shpEcozoneCropped</span> <span class="op">&lt;-</span> <span class="fu"><a href="cropInputs.html">cropInputs</a></span><span class="op">(</span><span class="va">shpEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># If input is Spat object --&gt; return will also be Spat</span></span></span>
<span class="r-in"><span>  <span class="va">vectEcozonePostProcessed</span> <span class="op">&lt;-</span> <span class="fu"><a href="postProcess.html">postProcess</a></span><span class="op">(</span><span class="va">vectEcozone</span>, studyArea <span class="op">=</span> <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># Try manually, individual pieces -- Note functions are different</span></span></span>
<span class="r-in"><span>  <span class="va">vectEcozoneMasked</span> <span class="op">&lt;-</span> <span class="fu"><a href="maskInputs.html">maskInputs</a></span><span class="op">(</span><span class="va">vectEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">VectEcozoneReprojected</span> <span class="op">&lt;-</span> <span class="fu"><a href="projectInputs.html">projectInputs</a></span><span class="op">(</span><span class="va">vectEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">vectEcozoneCropped</span> <span class="op">&lt;-</span> <span class="fu"><a href="cropInputs.html">cropInputs</a></span><span class="op">(</span><span class="va">vectEcozone</span>, <span class="va">StudyArea</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="co"># Note these two have different function names --&gt; methods for cropInputs and fixErrors</span></span></span>
<span class="r-in"><span>  <span class="co">#    are not implemented yet</span></span></span>
<span class="r-in"><span>  <span class="va">shpEcozoneClean</span> <span class="op">&lt;-</span> <span class="fu"><a href="fixErrorsTerra.html">fixErrorsTerra</a></span><span class="op">(</span><span class="va">vectEcozone</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="va">opts</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">studyArea is supplied (deprecated); assigning it to `cropTo` &amp; `maskTo`</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0364 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    masking...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.00207 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0338 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  postProcessTerra done in 0.123 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    reprojecting ...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    projecting...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0732 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    masking...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.00184 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0338 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">studyArea is supplied (deprecated); assigning it to `cropTo` &amp; `maskTo`</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0344 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    masking...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.00204 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0317 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">  postProcessTerra done in 0.105 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    masking...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.00211 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    projecting...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0525 secs</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">    cropping...</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">       done in 0.0329 secs</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">ow</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Eliot J B McIntire, Alex M Chubaty.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

